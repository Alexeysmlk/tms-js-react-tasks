# Airport schedule

## Домашние задания 11 - 12

### Цели

- научиться работать с `props`
- научиться изменять состояние компонентов
- понять отличия stateful от stateless компонентов, научиться выносить бизнес-логику и логику изменения состояния наружу
- научиться обрабатывать события в дочерних компонентах

### Описание

Перед вами компонент, отображающий текущие и запланированные авиарейсы из Национального аэропорта Минск. Вам необходимо доработать существующий функционал:

1. В компонент `Flight`, отвечающий непосредственно за отображение информации о рейсе в строке таблицы, нужно добавить функцию `getAirlineData` из родительского компонента `Airport` в качестве обработчика события `click` на `FlightScheduleRow`.

   ℹ️ Данная функция предназначена для получения информации об авиакомпании, выполняющей выбранный рейс.

   > _Обратите внимание, что эта функция должна вызываться именно из `Airport` (для того, чтобы сделать компонент `Flight` максимально "глупым", и вынести всю бизнес-логику во вне его). Для этого передайте `getAirlineData` как `prop`_

2. Реализуйте функцию getAirlineData:

   2.1. Проверьте значение поля `selected` в объекте, переданном в `Flight` и инвертируйте его

   2.2. Отправьте `GET` запрос на `/airlabs/api/airlines?icao_code=${flight.airline_icao}`, обработайте результат и присвойте значение свойства name в `selectedFlight.additional_data.airline_name`

   2.3 Обновите состояние компонента `Airport`, вызвав функцию `setFlights` с обновленным списком рейсов в качестве аргумента

   > ⚠️ Важно: состояние мутировать нельзя! [Вот, почему](https://react.dev/learn/updating-objects-in-state#why-is-mutating-state-not-recommended-in-react). Поэтому, создайте копию исходного массива `flights`, перед тем, как обновить состояние компонента.

### Результат:

- Информация об авиакомпании для каждого из выбранных рейсов динамически загружается и отображается в компоненте `Flight`.
- Дополнительно: убедитесь, что при подгрузке доп. информации по клику на рейс остальные строки в таблице React **не рендерит заново**. Воспользуйтесь расширением для [Chrome](https://chrome.google.com/webstore/detail/react-developer-tools/fmkadmapgofadopljbjfkapdkoienihi) или [Mozilla](https://addons.mozilla.org/en-US/firefox/addon/react-devtools/) (вкладка "Profiler"). Используйте https://react.dev/reference/react/memo, если повторный рендеринг всё-таки происходит.
